# Weather MCP Server

这是一个基于 MCP（Model Context Protocol）的天气服务器，提供天气预报和警报信息。

## 功能特性

- 获取指定州的天气警报
- 获取指定位置的天气预报
- 支持美国国家气象局（NWS）API
- 使用 TypeScript 开发，提供类型安全

## 安装

```bash
# 安装依赖
npm install

# 构建项目
npm run build

# 启动服务器
npm start
```

## 可用工具

### 1. get-alerts

获取指定州的天气警报。

参数：
- state: 两字母州代码（例如：CA, NY）

示例响应：
```
CA 的活动警报：

事件: 洪水警报
区域: 加利福尼亚中部沿海地区
严重程度: 中等
状态: 活动
标题: 洪水警报持续到周四晚上
---
```

### 2. get-forecast

获取指定位置的天气预报。

参数：
- latitude: 位置的纬度（-90 到 90）
- longitude: 位置的经度（-180 到 180）

示例响应：
```
位置 (37.7749, -122.4194) 的天气预报：

今天:
温度: 65°F
风况: 10 mph 西北风
晴天
---
今晚:
温度: 55°F
风况: 5 mph 西风
多云
---
```

## 开发

```bash
# 启动开发模式（监视文件变化）
npm run dev
```

## 注意事项

- 仅支持美国地区的天气数据
- 所有时间均为本地时间
- API 请求可能受到速率限制

## 许可证

MIT
